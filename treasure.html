<!DOCTYPE html>
<html lang="en">

<head>
  <title>Lab-7 WebApps</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
    integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
    crossorigin="anonymous"></script>

</head>

<body>
  <h1>Treasure Hunt By Kovidh Kurra</h1>
  <p style="color: blue; font-style: italic;">Click on the chests to search for treasure </p>
  <p id="chests" style="margin: 1px; background-color:aqua">Number of chests checked is zero </p>
  <p id="score" style="color: red;">Score is unknown</p>
  <p id="help" style="color:green;">Help report</p>

  <div class="container">
    <div class="row">
      <div class="col">
        <img src="treasure chest.jpg" id="image1" onclick="check(0)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image2" onclick="check(1)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image3" onclick="check(2)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image4" onclick="check(3)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image5" onclick="check(4)" alt="treasure chest" width="100px" height="100px">

      </div>
    </div>
  </div>


  <div class="container">
    <div class="row">
      <div class="col">
        <img src="treasure chest.jpg" id="image6" onclick="check(5)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image7" onclick="check(6)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image8" onclick="check(7)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image9" onclick="check(8)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image10" onclick="check(9)" alt="treasure chest" width="100px" height="100px">

      </div>
    </div>
  </div>


  <div class="container">
    <div class="row">
      <div class="col">
        <img src="treasure chest.jpg" id="image11" onclick="check(10)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image12" onclick="check(11)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="Help.jpg" id="img13" onclick="help()" alt="Help" width="100px" height="100px">
      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image14" onclick="check(13)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image15" onclick="check(14)" alt="treasure chest" width="100px" height="100px">

      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col">
        <img src="treasure chest.jpg" id="image16" onclick="check(15)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image17" onclick="check(16)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image18" onclick="check(17)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image19" onclick="check(18)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image20" onclick="check(19)" alt="treasure chest" width="100px" height="100px">

      </div>
    </div>
  </div>


  <div class="container">
    <div class="row">
      <div class="col">
        <img src="treasure chest.jpg" id="image21" onclick="check(20)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image22" onclick="check(21)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image23" onclick="check(22)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image24" onclick="check(23)" alt="treasure chest" width="100px" height="100px">

      </div>
      <div class="col">
        <img src="treasure chest.jpg" id="image25" onclick="check(24)" alt="treasure chest" width="100px" height="100px">

      </div>
    </div>
  </div>
  <button onclick="resetGame()" class="btn btn-primary">game reset</button>

  <script>
    var ids = ['image1', 'image2', 'image3', 'image4', 'image5', 'image6', 'image7', 'image8', 'image9', 'image10', 'image11', 'image12', 'image13', 'image14', 'image15', 'image16', 'image17', 'image18', 'image19', 'image20', 'image21', 'image22', 'image23', 'image24', 'image25'];
    let chestCount = 0;
    let score = 0;
    let lastCheck = 12;
    let treasureLocation = Math.floor(Math.random() * 24);
    function check(position) {
      var imgId = ids[position];
      if (position == treasureLocation) {
        document.getElementById(imgId).src = "treasure.jpg";
      }
      else {
        document.getElementById(imgId).src = "empty.jpg";
      }
      chestCount = chestCount + 1;
      score = score + 1;
      document.getElementById("chests").innerHTML = "Number of chests checked is " + chestCount;
      document.getElementById("score").innerHTML = "Score is " + score;
      lastCheck = position;
    }
    function help() {
      let collast = lastCheck % 5;
      let row_last = Math.floor(lastCheck / 5);
      let treasure_Col = treasureLocation % 5;
      let treasure_Row = Math.floor(treasureLocation / 5);
      score = score + 2;
      document.getElementById("score").innerHTML = "Score is " + score;
      if (treasure_Row == row_last) {
        if (collast < treasure_Col) {
          document.getElementById("help").innerHTML = "right";
        }
        else if (collast > treasure_Col) {
          document.getElementById("help").innerHTML = "left";
        }
        else {
          document.getElementById("help").innerHTML = "Sorry, no help available";
        }
      }
      else if (treasure_Col == collast) {
        if (row_last < treasure_Row) {
          document.getElementById("help").innerHTML = "down";
        }
        else if (row_last > treasure_Row) {
          document.getElementById("help").innerHTML = "up";
        }
        else {
          document.getElementById("help").innerHTML = "Sorry, no help available";
        }
      }
      else {
        document.getElementById("help").innerHTML = "Sorry, no help available";
      }
    }

    function resetGame() {
                treasureLocation = Math.floor(Math.random() * 25)
                while(treasureLocation == 12) {
                    treasureLocation = Math.floor(Math.random() * 25)
                }
                chestCount = 0
                score = 0
                document.getElementById("chests").innerHTML = "Number of chests checked is zero"
                document.getElementById("score").innerHTML = "Score is unknown"
                for(let k = 0; k< 25; k++) {
                    if(k != 12) {
                        document.getElementById(ids[k]).src = "treasure chest.jpg"
                    }
                }
            }
  </script>
</body>

</html>